package com.thalhamer.numbersgame.services.popup;import android.app.Activity;import android.graphics.Point;import android.view.Display;import android.view.Gravity;import android.view.View;import android.view.ViewGroup;import android.widget.PopupWindow;import android.widget.RelativeLayout;import com.thalhamer.numbersgame.R;/** * abstract perform service * <p/> * Created by Brian on 8/19/2015. */public abstract class AbstractPopupService {    protected PopupWindow createPopupWindow(View popupView, final ViewGroup currentView, Activity activity, boolean setFullScreen) {        final PopupWindow popupWindow = new PopupWindow(popupView);        if (setFullScreen) {            Display display = activity.getWindowManager().getDefaultDisplay();            Point size = new Point();            display.getSize(size);            int width = size.x;            int height = size.y;            popupWindow.setWidth((int) (width * .95f));            popupWindow.setHeight((int) (height * .95f));        } else {            popupWindow.setWidth(ViewGroup.LayoutParams.WRAP_CONTENT);            popupWindow.setHeight(ViewGroup.LayoutParams.WRAP_CONTENT);        }        popupWindow.setFocusable(true);        popupWindow.setOutsideTouchable(false);        popupWindow.setAnimationStyle(R.style.popupAnimation);        popupWindow.showAtLocation(currentView, Gravity.CENTER, 0, 0);        //set background dimming        final RelativeLayout dimmingLayout = (RelativeLayout) activity.getLayoutInflater().inflate(R.layout.dim_fragment, currentView, false);        currentView.addView(dimmingLayout);        popupWindow.setOnDismissListener(new PopupWindow.OnDismissListener() {            @Override            public void onDismiss() {                currentView.removeView(dimmingLayout);            }        });        return popupWindow;    }}