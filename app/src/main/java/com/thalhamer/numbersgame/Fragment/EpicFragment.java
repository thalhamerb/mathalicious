package com.thalhamer.numbersgame.Fragment;import android.os.Bundle;import android.support.v4.app.Fragment;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.ImageButton;import android.widget.ImageView;import android.widget.TextView;import com.thalhamer.numbersgame.Activity.ChooseEpicActivity;import com.thalhamer.numbersgame.Factory.GameUnlockDataHolder;import com.thalhamer.numbersgame.R;import com.thalhamer.numbersgame.domain.GameUnlock;import com.thalhamer.numbersgame.services.SavedDataService;import java.util.List;/** * epic fragment for epic screen * <p/> * Created by Brian on 5/5/2015. */public class EpicFragment extends Fragment {    public static final String IMAGE_R_VALUE = "imageRvalue";    public static final String PLACE_IN_LIST = "placeInList";    public static final String LIST_SIZE = "listSize";    public static final String PERSON_NAME = "personName";    private static SavedDataService savedDataService;    private static ChooseEpicActivity chooseEpicActivity;    public static EpicFragment newInstance(            int picId, int placeInList, int listSize, SavedDataService savedDataService, ChooseEpicActivity chooseEpicActivity,            String personName) {        EpicFragment f = new EpicFragment();        Bundle bdl = new Bundle(3);        bdl.putInt(IMAGE_R_VALUE, picId);        bdl.putInt(PLACE_IN_LIST, placeInList);        bdl.putInt(LIST_SIZE, listSize);        bdl.putString(PERSON_NAME, personName);        f.setArguments(bdl);        EpicFragment.savedDataService = savedDataService;        EpicFragment.chooseEpicActivity = chooseEpicActivity;        return f;    }    @Override    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {        Bundle bundle = getArguments();        View view = inflater.inflate(R.layout.fragment_choose_epic, container, false);        ImageButton imageButton = (ImageButton) view.findViewById(R.id.imageButton);        TextView personName = (TextView) view.findViewById(R.id.personName);        TextView numOfStars = (TextView) view.findViewById(R.id.numOfStars);        ImageView star = (ImageView) view.findViewById(R.id.star);        personName.setText(bundle.getString(PERSON_NAME));        Integer placeInList = bundle.getInt(PLACE_IN_LIST);        List<GameUnlock> gameUnlockList = GameUnlockDataHolder.getInstance().getGameUnlockInfo();        String sectionName = savedDataService.constructSectionName(placeInList, 1);        if (EpicFragment.savedDataService.containsKey(sectionName)) {            imageButton.setBackgroundResource(bundle.getInt(IMAGE_R_VALUE));            imageButton.setTag(R.string.chosen_epic, placeInList.toString());            imageButton.setOnClickListener(EpicFragment.chooseEpicActivity);            numOfStars.setVisibility(View.GONE);            star.setVisibility(View.GONE);        } else {            imageButton.setBackgroundResource(R.mipmap.padlock);            for (GameUnlock gameUnlock : gameUnlockList) {                if (sectionName.equals(gameUnlock.getSectionName())) {                    numOfStars.setText(gameUnlock.getNumOfStars().toString());                    break;                }            }        }        return view;    }}